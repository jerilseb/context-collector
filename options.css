:root {
    --bg-primary: #1a1a1a;
    --bg-secondary: #2d2d2d;
    --text-primary: #ffffff;
    --text-secondary: #b3b3b3;
    --accent-color: #4a9eff;
    --border-color: #404040;
    --success-color: #4caf50;
    --error-color: #f44336;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.6;
}

.container {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
}

header {
    margin-bottom: 2rem;
    text-align: center;
}

h1 {
    font-size: 2rem;
    margin-bottom: 0.5rem;
    color: var(--text-primary);
}

.subtitle {
    color: var(--text-secondary);
    font-size: 1rem;
}

.settings-card {
    background-color: var(--bg-secondary);
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    border: 1px solid var(--border-color);
}

h2 {
    font-size: 1.25rem;
    margin-bottom: 1rem;
    color: var(--text-primary);
}

.shortcut-instructions {
    margin-bottom: 1rem;
}

.shortcut-instructions ol {
    margin-left: 1.5rem;
    margin-top: 0.75rem;
    margin-bottom: 0.75rem;
}

.shortcut-instructions li {
    margin-bottom: 0.5rem;
    color: var(--text-primary);
}

.shortcut-instructions strong {
    color: var(--accent-color);
    user-select: all;
}

.help-text {
    color: var(--text-secondary);
    font-size: 0.875rem;
    margin-top: 0.5rem;
}

.save-action-area {
    display: flex;
    align-items: center;
    margin-top: 1.5rem; /* Increased top margin */
}

.status-message {
    padding: 0.5rem 1rem; 
    margin-left: 1rem; 
    border-radius: 4px;
    display: none;
    font-size: 0.875rem; 
}

.status-message.success {
    display: block;
    background-color: rgba(76, 175, 80, 0.1);
    color: var(--success-color);
}

.status-message.error {
    display: block;
    background-color: rgba(244, 67, 54, 0.1);
    color: var(--error-color);
}

label {
    display: block;
    margin-bottom: 0.5rem; /* Reduced margin for tighter grouping */
    font-weight: 500;
    color: var(--text-primary);
}

/* Grouping for label and its control */
.setting-group {
    margin-bottom: 1rem;
}

.setting-group label { /* General label within setting-group */
    margin-bottom: 0.25rem; 
}

/* Specific styling for checkbox label to align checkbox and text */
label.checkbox-label {
    display: flex; /* Use flexbox for alignment */
    align-items: center; /* Vertically align items */
    margin-bottom: 1rem; /* Keep consistent bottom margin for the group */
}

label.checkbox-label input[type="checkbox"] {
    margin-right: 0.75rem; /* Space between checkbox and text */
    accent-color: var(--accent-color);
    transform: scale(1.4); /* Removed translateY for better alignment with flex */
    /* Adjust vertical alignment if needed with flex properties on parent */
}


input[type="password"], 
input[type="number"], 
select, 
textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    font-size: 0.875rem;
    /* margin-top: 0.5rem; Removed direct top margin, handled by .setting-group or label */
}

textarea {
    resize: vertical;
    min-height: 80px;
}

input[type="password"]:focus, 
input[type="number"]:focus, 
select:focus, 
textarea:focus {
    outline: none;
    border-color: var(--accent-color);
    box-shadow: 0 0 0 2px rgba(74, 158, 255, 0.2);
}

/* Styles for provider-specific and common settings containers */
#aiProviderOptionsContainer { /* Container for all provider options */
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid var(--border-color);
}

#openaiProviderSettings,
#geminiProviderSettings,
#commonAiSettings {
    /* These are now children of aiProviderOptionsContainer, 
       so they don't need their own top border or excessive top margin if aiProviderOptionsContainer has it. 
       Adjust if more spacing is desired between the provider dropdown and these sections. */
    margin-top: 0.5rem; /* Slight space from provider dropdown if visible */
    /* padding-top: 1rem; */ /* Can be removed if aiProviderOptionsContainer handles top padding/border */
    /* border-top: 1px solid var(--border-color); */ /* Removed, handled by parent */
}

#openaiProviderSettings > label,
#geminiProviderSettings > label,
#commonAiSettings > label {
    margin-bottom: 0.25rem; /* Tighter spacing for labels within these groups */
}

#openaiProviderSettings > input,
#openaiProviderSettings > select,
#geminiProviderSettings > input,
#geminiProviderSettings > select,
#commonAiSettings > input,
#commonAiSettings > select,
#commonAiSettings > textarea {
    margin-bottom: 1rem; /* Space below each control in these groups */
}


/* Remove old #aiSettings style if it exists and is not used */
/* #aiSettings {
    margin: 1rem 0;
    padding-top: 1rem;
    border-top: 1px solid var(--border-color);
} */

button#saveSettings { 
    background-color: var(--accent-color);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 4px;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: background-color 0.2s;
}

button:hover {
    background-color: #3a8ae6;
}

footer {
    margin-top: 2rem;
    text-align: center;
}
